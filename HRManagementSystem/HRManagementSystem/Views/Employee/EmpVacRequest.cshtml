@model IEnumerable<HRManagementSystem.Models.VaccationRequest>
@{
    ViewData["Title"] = "Vacation Requests";
    Layout = "_EmployeeLayout";

}
@section Style {
    <link href="~/css/Leave.css" rel="stylesheet" asp-append-version="true" />
}

<div>
    <div class="flex">
        <h2>Vacation Requests</h2>

        <a asp-controller="Employee" asp-action="CreateVacReq" class="btn btn-primary" style="background-color: #1f2732; border: none !important; margin:3px 0px;">
        + New Vacation Request
        </a>
    </div>
<table class="table table-striped table-bordered mt-3">
    <thead class="table-dark">
        <tr>
            <th>Type</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Days</th>
            <th>Reason</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var request in Model)
        {
            <tr>
                <td>@request.VaccType</td>
                <td>@(request.StartDate?.ToString("yyyy-MM-dd") ?? "Not Set")</td>
                <td>@(request.EndDate?.ToString("yyyy-MM-dd") ?? "Not Set")</td>
                <td>@request.VaccDays</td>
                <td>@(string.IsNullOrEmpty(request.Reason) ? "N/A" : request.Reason)</td>
                <td>
                    <span class="badge @(request.Status == "Approved" ? "bg-success" : request.Status == "Rejected" ? "bg-danger" : "bg-warning text-dark")">
                        @request.Status
                    </span>
                </td>
            </tr>
        }
    </tbody>
</table>
</div>
